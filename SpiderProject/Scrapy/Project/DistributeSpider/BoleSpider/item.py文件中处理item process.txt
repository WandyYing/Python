
如果解析页面parse_detail函数中有逻辑语句，或者想对爬取到的语句添加或做处理，
那么就需要用到这部分内容
在item.py文件中定义：

MapCompose可以传入函数对于该字段进行处理，而且可以传入多个

from scrapy.loader.processors import MapCompose
def add_mtianyan(value):
    return value+"-mtianyan"

 title = scrapy.Field(
        input_processor=MapCompose(lambda x:x+"mtianyan",add_mtianyan),
    )

注意：此处的自定义方法一定要写在代码前面。



create_date = scrapy.Field(
    input_processor=MapCompose(date_convert),
    output_processor=TakeFirst()
)

只取list中的第一个值。

自定义itemloader实现默认提取第一个
class ArticleItemLoader(ItemLoader):
    #自定义itemloader实现默认提取第一个
    default_output_processor = TakeFirst()
